@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Manrope:wght@400;500;600&display=swap");
@import "tailwindcss";

/* @plugin "@tailwindcss/typography"; */

@theme {
  /* Palette de base */
  --color-surface: #060912;
  --color-panel: #0c1220;
  --color-panel-alt: #10192c;
  --color-panel-soft: #0a1020;
  --color-stroke: #1e283a;
  --color-border-soft: rgba(148, 163, 184, 0.3);
  --color-brand: #f97316;
  --color-brand-soft: color-mix(in srgb, #f97316 70%, white);
  --color-accent: #06b6d4;
  --color-accent-soft: color-mix(in srgb, #06b6d4 65%, white);
  --color-accent-active: #fb923c;
  --color-ink: #e6edf6;
  --color-muted: #a2b3c7;
  --color-success: #34d399;
  --color-success-soft: rgba(52, 211, 153, 0.15);
  --color-error: #f87171;
  --color-error-soft: rgba(248, 113, 113, 0.15);

  /* Couleurs sémantiques */
  --color-bg-page: var(--color-surface);
  --color-bg-section: var(--color-panel-alt);
  --color-bg-card: var(--color-panel);
  --color-bg-hero: color-mix(in srgb, #0b1220 80%, #f97316 8%, #06b6d4 8%);
  --color-text-primary: var(--color-ink);
  --color-text-muted: var(--color-muted);
  --color-text-invert: #0b0f1a;
  --color-accent-strong: var(--color-brand);
  --color-accent-quiet: rgba(249, 115, 22, 0.12);
  --color-accent-border: rgba(249, 115, 22, 0.4);

  /* Typographie */
  --font-sans: "Space Grotesk", "Manrope", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  --font-display: "Space Grotesk", var(--font-sans);
  --font-alt: "Manrope", var(--font-sans);

  /* Rayons */
  --radius-sm: 0.5rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.5rem;
  --radius-xxl: 2rem;
  --radius-pill: 999px;

  /* Ombres */
  --shadow-soft: 0 8px 30px rgba(0, 0, 0, 0.25);
  --shadow-elevated: 0 26px 80px rgba(15, 23, 42, 0.85);
  --shadow-accent: 0 18px 50px rgba(249, 115, 22, 0.35);
}

@layer base {
  :root {
    font-family: var(--font-sans);
    background-color: var(--color-bg-page);
    color: var(--color-text-primary);
  }

  body {
    @apply bg-[color:var(--color-bg-page)] text-[color:var(--color-text-primary)] antialiased;
  }

  a {
    color: var(--color-accent-strong);
  }

  a:hover {
    text-decoration: underline;
  }
}

@layer components {
  /* Layout */
  .pp-page {
    @apply w-full max-w-9/10 mx-auto px-4 sm:px-6 lg:px-8 space-y-20 pb-24;
  }

  .pp-main {
    @apply flex-1;
  }

  .pp-container-xl {
    @apply w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .pp-section {
    @apply w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 space-y-4;
  }

  .pp-section-header {
    @apply space-y-2;
  }

  .pp-section-label {
    @apply text-xs font-semibold uppercase tracking-[0.2em] text-[color:var(--color-accent-strong)];
  }

  .pp-section-title {
    @apply text-3xl sm:text-4xl font-semibold leading-tight font-display;
  }

  .pp-section-desc {
    @apply text-base sm:text-lg leading-relaxed text-[color:var(--color-text-muted)];
  }

  /* Headings */
  .pp-heading-1 {
    @apply text-4xl sm:text-5xl lg:text-[54px] font-bold leading-tight tracking-tight font-display;
  }

  .pp-heading-2 {
    @apply text-3xl font-semibold leading-tight font-display;
  }

  /* Cards */
  .pp-card {
    @apply rounded-[var(--radius-xl)] border border-[color:var(--color-stroke)] bg-[color:var(--color-bg-card)]/90 shadow-[var(--shadow-soft)] transition-transform transition-shadow duration-200;
  }

  .pp-card-hover {
    @apply hover:-translate-y-1 hover:shadow-[var(--shadow-elevated)];
  }

  .pp-card-accent {
    @apply border-[color:var(--color-accent-border)] shadow-[var(--shadow-accent)];
  }

  .pp-card-indicator {
    @apply border-l-4 border-[color:var(--color-accent-strong)];
  }

  /* CTA */
  .pp-cta-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-[var(--radius-pill)] px-6 sm:px-7 py-3 sm:py-3.5 text-sm sm:text-base font-semibold bg-[color:var(--color-accent-strong)] text-[color:var(--color-text-invert)] shadow-[var(--shadow-accent)] transition-transform transition-colors duration-200;
  }

  .pp-cta-primary:hover {
    @apply -translate-y-[1px] bg-[color:var(--color-brand-soft)];
  }

  .pp-cta-secondary {
    @apply inline-flex items-center justify-center gap-2 rounded-[var(--radius-pill)] px-6 py-3 text-sm font-medium border border-[color:var(--color-border-soft)] text-[color:var(--color-text-primary)] hover:bg-[color:var(--color-bg-section)];
  }

  /* Badges / Pills */
  .pp-pill {
    @apply inline-flex items-center gap-2 rounded-[var(--radius-pill)] bg-[color:var(--color-panel-soft)] px-4 py-2 text-xs font-medium text-[color:var(--color-text-primary)];
  }

  .pp-badge-accent {
    @apply inline-flex h-9 w-9 items-center justify-center rounded-full bg-[color:var(--color-accent-quiet)] text-[color:var(--color-brand)] border border-[color:var(--color-accent-border)] font-semibold;
  }

  .pp-badge-pill {
    @apply inline-flex items-center rounded-full bg-[color:var(--color-accent-quiet)] px-3 py-1 text-xs font-semibold uppercase tracking-wide text-[color:var(--color-ink)];
  }

  /* Journeys (Étape 2) */
  .pp-card-journey {
    @apply rounded-[var(--radius-xl)] border border-[color:var(--color-stroke)] bg-[color:var(--color-bg-card)]/90 shadow-[var(--shadow-soft)] transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:shadow-[var(--shadow-elevated)] border-l-4 border-[color:var(--color-accent-border)];
  }

  .pp-card-journey-active {
    @apply rounded-[var(--radius-xl)] border border-[color:var(--color-stroke)] bg-[color:var(--color-bg-card)]/95 shadow-[var(--shadow-accent)] transition-transform transition-shadow duration-200 hover:-translate-y-1 hover:shadow-[var(--shadow-elevated)] border-l-4 border-[color:var(--color-accent-active)];
  }

  .pp-emoji-badge {
    @apply inline-flex h-9 w-9 items-center justify-center rounded-full bg-[color:var(--color-accent-quiet)] text-[color:var(--color-ink)] border border-[color:var(--color-accent-border)] font-semibold;
  }

  /* Manifesto */
  .pp-manifesto-shell {
    @apply relative overflow-hidden rounded-3xl bg-gradient-to-br from-slate-900 via-slate-950 to-slate-900 border border-slate-800 shadow-[0_30px_100px_rgba(0,0,0,0.35)] p-6 md:p-8 space-y-4;
  }

  .pp-manifesto-band {
    @apply absolute left-0 top-0 h-full w-1 bg-[color:var(--color-accent-strong)];
  }

  .pp-manifesto-item {
    @apply flex items-start gap-3 rounded-2xl bg-slate-900/60 px-4 py-3 border border-slate-800 text-base leading-relaxed text-slate-100;
  }

  .pp-manifesto-badge {
    @apply inline-flex h-9 w-9 items-center justify-center rounded-full bg-slate-900/80 text-[color:var(--color-accent-strong)] border border-[color:var(--color-accent-border)] font-semibold;
  }

  /* Hero structure */
  .pp-hero-grid {
    @apply relative mx-auto grid gap-8 lg:gap-10 lg:grid-cols-12 items-start;
  }

  .pp-hero-image {
    @apply relative w-full max-w-md mx-auto rounded-3xl overflow-hidden border border-slate-800/60 bg-slate-900/60 shadow-[0_24px_80px_rgba(15,23,42,0.9)] aspect-[4/3];
  }

  /* Formulaire */
  .pp-form-field {
    @apply w-full rounded-2xl border border-slate-700 bg-slate-900/80 px-4 py-3 text-sm text-slate-100 outline-none transition placeholder:text-slate-500 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/40;
  }

  .pp-status-success {
    @apply rounded-2xl px-4 py-3 text-sm font-medium bg-[color:var(--color-success-soft)] text-[color:var(--color-success)] border border-[color:var(--color-success)];
  }

  .pp-status-error {
    @apply rounded-2xl px-4 py-3 text-sm font-medium bg-[color:var(--color-error-soft)] text-[color:var(--color-error)] border border-[color:var(--color-error)];
  }
}

@layer utilities {
  .pp-glow {
    box-shadow: 0 0 40px color-mix(in srgb, var(--color-accent-strong) 35%, transparent);
  }

  /* Accessibilité : focus visibles */
  .pp-focus-ring {
    outline: 2px solid var(--color-accent-strong);
    outline-offset: 3px;
    box-shadow: 0 0 0 4px rgba(249, 115, 22, 0.18);
  }

  .nav-link:focus-visible,
  .HeroJourneyCard:focus-visible,
  .pp-card-journey:focus-visible,
  .pp-card:focus-visible,
  .pp-cta-secondary:focus-visible,
  .pp-form-field:focus-visible,
  .SiteFooterLink:focus-visible {
    outline: 2px solid var(--color-accent-strong);
    outline-offset: 3px;
    box-shadow: 0 0 0 4px rgba(249, 115, 22, 0.18);
  }

  /* Micro feedbacks */
  @keyframes pp-shake {
    0% { transform: translateX(0); }
    20% { transform: translateX(-4px); }
    40% { transform: translateX(4px); }
    60% { transform: translateX(-3px); }
    80% { transform: translateX(3px); }
    100% { transform: translateX(0); }
  }

  @keyframes pp-pulse-once {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.35); }
    70% { transform: scale(1.01); box-shadow: 0 0 0 12px rgba(249, 115, 22, 0); }
    100% { transform: scale(1); box-shadow: none; }
  }

  .pp-shake {
    animation: pp-shake 240ms ease-in-out;
  }

  .pp-pulse-once {
    animation: pp-pulse-once 420ms ease-out;
  }

  /* Hover / tilt / glow */
  @keyframes pp-glow-pulse {
    0% { box-shadow: 0 18px 40px rgba(249, 115, 22, 0.18); }
    50% { box-shadow: 0 22px 54px rgba(249, 115, 22, 0.28); }
    100% { box-shadow: 0 18px 40px rgba(249, 115, 22, 0.18); }
  }

  .pp-tilt-card {
    transform-style: preserve-3d;
    transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
  }

  .pp-tilt-card:hover,
  .pp-tilt-card:focus-visible {
    transform: translateY(-4px) rotateX(1deg);
    box-shadow: 0 16px 45px rgba(0, 0, 0, 0.25);
    border-color: rgba(249, 115, 22, 0.5);
  }

  .pp-glow-pulse {
    animation: pp-glow-pulse 2400ms ease-in-out infinite;
  }

  /* Reveal / stagger */
  .pp-reveal {
    opacity: 0;
    transform: translateY(10px);
  }

  .pp-reveal.is-visible {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 240ms ease, transform 240ms ease;
  }
}
